
# Планировщик в Imba

#### `scheduler.mark`

Пометьте планировщик для выполнения на следующем кадре. Это асинхронная операция, поэтому вы можете вызывать ее тысячу раз во время одного "такта" в вашем приложении, и она будет выполняться только один раз в следующем такте. Это полезно, если вы хотите убедиться, что некоторый тег рендерится асинхронно как можно скорее.


```imba
tag App
    def load
        data = await fetchDataFromServer
        scheduler.mark # render asap
```

### Настройка

Планировщик имеет 3 различных режима:

* raf - выполнение на каждом кадре анимации - обычно 60 кадров в секунду
* events - выполнение после каждого обработанного события DOM / вызова Imba.commit
* interval - выполнение каждые n миллисекунд

> Если вы вызываете Imba.commit 100 раз или синхронно запускаете 1000 пользовательских событий, планировщики всё равно только выполнится один раз - на следующем кадре.

### Как запланировать выполнение тегов:

По умолчанию, любой тег, смонтированный через Imba.mount, будет запланирован с использованием configure(events: true). Ручное планирование тегов следует осуществлять в их методе mount.

> Обычно вы планируете только корневой тег в вашем приложении.
